<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="author" content="Jose Abell">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">
        <title>NTS (Note-To-Self): Creating dynamically linked libraries | Jose Abell's Research Blog</title>

        <link rel="alternate" type="application/atom+xml" title="Jose Abell's Research Blog blog atom feed" href="/feeds/all.atom.xml" />
        <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700' rel='stylesheet' type='text/css'>

        <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
        <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css">
        <link rel="stylesheet" href="/theme/css/pygments.css">
        <link rel="stylesheet" href="/theme/css/main.css">

<!-- Using MathJax, with the delimiters $ -->
<!-- Conflict with pygments for the .mo and .mi -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
  "HTML-CSS": {
  styles: {
  ".MathJax .mo, .MathJax .mi": {color: "black ! important"}}
  },
  tex2jax: {inlineMath: [['\\(','\\)'],['$','$'], ['\\\\(','\\\\)']],processEscapes: true}
  });
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>

    </head>

    <body>
        <header class="main-header" style="background: url('/images/header.png') no-repeat center center #DDD; background-size: 100%;">
        <h1 id="title"> Jos√© Abell's research blog</h1>
        <hr>
        <nav>
            <div class="container">
            <ul>
                <li><a href="/" title="Home">Home</a></li>
                        <li><a href="http://www.joseabell.com/pages/01about.html">About</a></li>
                        <li><a href="http://www.joseabell.com/pages/02research.html">Research</a></li>
                        <li><a href="http://www.joseabell.com/pages/03teaching.html">Teaching</a></li>
                        <li><a href="http://www.joseabell.com/pages/04publications.html">Publications</a></li>
                        <li><a href="http://www.joseabell.com/pages/05tools.html">Tools</a></li>
                        <li><a href="http://www.joseabell.com/pages/06cv.html">CV</a></li>
                        <li><a href="http://www.joseabell.com/pages/07links.html">Links</a></li>
            </ul>
            </div>
        </nav>
        </header>

<div class="container post">

    <article>
        <header>
            <h1>NTS (Note-To-Self): Creating dynamically linked libraries</h1>
            <time datetime="article.date.isoformat()" pubdate>Mon 28 October 2013</time>
        </header>

        <div class="article_content">
            <p>A nice extensive tutorial can be found <a href="http://www.yolinux.com/TUTORIALS/LibraryArchives-StaticAndDynamic.html">here</a>.</p>
<p>In a&nbsp;nutshell:</p>
<pre><code>:::shell.BashLexer
gcc -Wall -fPIC -c \*.c  
gcc -shared -Wl,-soname,libctest.so.1 -o libctest.so.1.0 \*.o  
mv libctest.so.1.0 /opt/lib  
ln -sf /opt/lib/libctest.so.1.0 /opt/lib/libctest.so.1  
ln -sf /opt/lib/libctest.so.1.0 /opt/lib/libctest.so
</code></pre>
<!--more-->

<ul>
<li><code>-Wall</code>: include warnings. See man page for warnings&nbsp;specified.</li>
<li><code>-fPIC</code>: Compiler directive to output position independent code, a
    characteristic required by shared libraries. Also see&nbsp;&#8220;-fpic&#8221;.</li>
<li><code>-shared</code>: Produce a shared object which can then be linked with other objects
    to form an&nbsp;executable.</li>
<li><code>-Wl,options</code>: Pass options to&nbsp;linker.</li>
<li>In this example the options to be passed on to the linker are: <code>-soname
    libctest.so.1</code>. The name after the <code>-o</code> option is passed to&nbsp;gcc.</li>
<li>Option <code>-o</code>:
    Output of operation. In this case the name of the shared object to
    be output will be <code>libctest.so.1.0</code></li>
</ul>
<p>See note on &#8220;Library&nbsp;Paths&#8221;</p>
        </div>

        <div class="meta">
            <div>
                    <a href="http://www.joseabell.com/tag/c.html" class="tag">c++</a>
                    <a href="http://www.joseabell.com/tag/coding.html" class="tag">coding</a>
                    <a href="http://www.joseabell.com/tag/compiler.html" class="tag">compiler</a>
                    <a href="http://www.joseabell.com/tag/gcc.html" class="tag">gcc</a>
                    <a href="http://www.joseabell.com/tag/library.html" class="tag">library</a>
                    <a href="http://www.joseabell.com/tag/linux.html" class="tag">linux</a>
                    <a href="http://www.joseabell.com/tag/note-to-self.html" class="tag">note to self</a>
                    <a href="http://www.joseabell.com/tag/programming.html" class="tag">programming</a>
                    <a href="http://www.joseabell.com/tag/reminder.html" class="tag">reminder</a>
                    <a href="http://www.joseabell.com/tag/tutorial.html" class="tag">tutorial</a>
            </div>
            <div>
                <a id="comments-button" class="comments_btn" href="#disqus_thread">Show comments</a>
            </div>
        </div>
    </article>
</div>

<script type="text/javascript">
(function () {
    'use strict';

    // Global object
    var App = {};

    // Create button
    App.commentsButton = document.getElementById('comments-button');

    App.commentsButton.onclick = function () {
        // Remove button action on click
        App.commentsButton.onclick = function () {
        }

        // Create comments container
        App.disqusContainer = document.createElement('div');
        App.disqusContainer.setAttribute('id', 'disqus_thread');
        // App.disqusContainer.setAttribute('class', 'container');

        // Append container to body or div
        // document.body.appendChild( App.disqusContainer );
        var container = document.getElementsByClassName('container post')[0];
        container.appendChild(App.disqusContainer);

        // Your Disqus shortname
        App.disqus_shortname = '';

        // Embed Disqus
        var dsq = document.createElement('script');

        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + App.disqus_shortname + '.disqus.com/embed.js';

        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);

        window.scrollTo(0, dsq.offsetTop - 200);
    };
})();
</script>


    </body>
</html>